# üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π - –°–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑–µ–π QuizBattle

**–î–∞—Ç–∞**: 27 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
quizbattle/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îú‚îÄ‚îÄ api/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ router.py                 [–ò–ó–ú–ï–ù–Å–ù]
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ friends.py               [–ù–û–í–´–ô - 250+ —Å—Ç—Ä–æ–∫]
‚îÇ       ‚îú‚îÄ‚îÄ auth_repository.py           [–ò–ó–ú–ï–ù–Å–ù +250 —Å—Ç—Ä–æ–∫]
‚îÇ       ‚îú‚îÄ‚îÄ database.py                  [–ò–ó–ú–ï–ù–Å–ù]
‚îÇ       ‚îú‚îÄ‚îÄ runtime.py                   [–ò–ó–ú–ï–ù–Å–ù +60 —Å—Ç—Ä–æ–∫]
‚îÇ       ‚îú‚îÄ‚îÄ runtime_message_handlers.py  [–ò–ó–ú–ï–ù–Å–ù]
‚îÇ       ‚îî‚îÄ‚îÄ runtime_types.py             [–ò–ó–ú–ï–ù–Å–ù]
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FriendsBtn.tsx              [–ù–û–í–´–ô - 70 —Å—Ç—Ä–æ–∫]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FriendsModal.tsx            [–ù–û–í–´–ô - 170 —Å—Ç—Ä–æ–∫]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RoomInviteModal.tsx         [–ù–û–í–´–ô - 130 —Å—Ç—Ä–æ–∫]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerCard.tsx              [–ù–û–í–´–ô - 85 —Å—Ç—Ä–æ–∫]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InvitationModal.tsx         [–ù–û–í–´–ô - 110 —Å—Ç—Ä–æ–∫]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FriendsLeaderboard.tsx      [–ù–û–í–´–ô - 120 —Å—Ç—Ä–æ–∫]
‚îÇ   ‚îî‚îÄ‚îÄ hooks/
‚îÇ       ‚îî‚îÄ‚îÄ useFriends.ts               [–ù–û–í–´–ô - 200+ —Å—Ç—Ä–æ–∫]
‚îÇ
‚îú‚îÄ‚îÄ FRIENDS_README.md                   [–ù–û–í–´–ô]
‚îú‚îÄ‚îÄ FRIENDS_SYSTEM_DOCS.md              [–ù–û–í–´–ô]
‚îú‚îÄ‚îÄ FRIENDS_INTEGRATION_GUIDE.md        [–ù–û–í–´–ô]
‚îú‚îÄ‚îÄ FRIENDS_SYSTEM_SUMMARY.md           [–ù–û–í–´–ô]
‚îú‚îÄ‚îÄ INTEGRATION_CHECKLIST.md            [–ù–û–í–´–ô]
‚îî‚îÄ‚îÄ CHANGES.md                          [–≠–¢–û –§–ê–ô–õ]
```

---

## üîÑ –ü–æ–¥—Ä–æ–±–Ω–æ –ø–æ —Ñ–∞–π–ª–∞–º

### Backend

#### `backend/app/api/friends.py` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 250+ —Å—Ç—Ä–æ–∫  
**–°–æ–¥–µ—Ä–∂–∏—Ç**: 10 API endpoints

```python
# Endpoints:
POST   /api/friends/request
GET    /api/friends
GET    /api/friends/requests
POST   /api/friends/respond
DELETE /api/friends/{friend_id}
POST   /api/rooms/invite
GET    /api/rooms/invitations
POST   /api/rooms/invitations/respond
GET    /api/leaderboard/friends
```

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Bearer —Ç–æ–∫–µ–Ω—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

#### `backend/app/auth_repository.py` [–ò–ó–ú–ï–ù–Å–ù]
**–î–æ–±–∞–≤–ª–µ–Ω–æ**: 250+ —Å—Ç—Ä–æ–∫ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```python
send_friend_request()              # –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
accept_friend_request()            # –ü—Ä–∏–Ω—è—Ç—å –∑–∞—è–≤–∫—É
decline_friend_request()           # –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É
remove_friend()                    # –£–¥–∞–ª–∏—Ç—å –¥—Ä—É–≥–∞
get_user_friends()                 # –ü–æ–ª—É—á–∏—Ç—å –¥—Ä—É–∑–µ–π
get_friend_requests()              # –ü–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫–∏
get_friends_leaderboard()          # –†–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π
send_room_invitation()             # –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤ –∫–æ–º–Ω–∞—Ç—É
get_pending_room_invitations()     # –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
respond_to_room_invitation()       # –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
```

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:**
```python
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
await send_friend_request(user_id=1, addressee_id=2)

# –ü–æ–ª—É—á–∏—Ç—å –¥—Ä—É–∑–µ–π
friends = await get_user_friends(user_id=1)

# –†–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π
leaderboard = await get_friends_leaderboard(user_id=1, limit=50)
```

---

#### `backend/app/database.py` [–ò–ó–ú–ï–ù–Å–ù]
**–ò–∑–º–µ–Ω–µ–Ω–æ**: ~40 —Å—Ç—Ä–æ–∫

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```sql
CREATE TABLE IF NOT EXISTS room_invitations (
  id BIGSERIAL PRIMARY KEY,
  room_id VARCHAR(8) NOT NULL,
  inviter_id BIGINT NOT NULL REFERENCES auth_users(id),
  invitee_id BIGINT NOT NULL REFERENCES auth_users(id),
  status VARCHAR(16) NOT NULL DEFAULT 'pending',
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  UNIQUE (room_id, inviter_id, invitee_id),
  CHECK (inviter_id <> invitee_id)
)
```

**–î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã:**
```sql
CREATE INDEX idx_room_invitations_room_id
CREATE INDEX idx_room_invitations_invitee_id
CREATE INDEX idx_room_invitations_inviter_id
CREATE INDEX idx_room_invitations_status
```

---

#### `backend/app/api/router.py` [–ò–ó–ú–ï–ù–Å–ù]
**–ò–∑–º–µ–Ω–µ–Ω–æ**: 2 —Å—Ç—Ä–æ–∫–∏

```python
# –î–æ–±–∞–≤–ª–µ–Ω–æ:
from app.api.friends import router as friends_router

# –ü–æ–¥–∫–ª—é—á–µ–Ω–æ:
api_router.include_router(friends_router)
```

---

#### `backend/app/runtime_types.py` [–ò–ó–ú–ï–ù–Å–ù]
**–ò–∑–º–µ–Ω–µ–Ω–æ**: 1 —Å—Ç—Ä–æ–∫–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ)

```python
# –í –∫–ª–∞—Å—Å RoomRuntime –¥–æ–±–∞–≤–ª–µ–Ω–æ:
password: str | None = None
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç—ã –∫–æ–º–Ω–∞—Ç—ã –ø–∞—Ä–æ–ª–µ–º –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∞–≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è.

---

#### `backend/app/runtime_message_handlers.py` [–ò–ó–ú–ï–ù–Å–ù]
**–î–æ–±–∞–≤–ª–µ–Ω–æ**: ~15 —Å—Ç—Ä–æ–∫

**–ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:**
```python
if message_type == "invite-friend-to-room":
    # –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ (—Ç–æ–ª—å–∫–æ —Ö–æ—Å—Ç –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç)
    # –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ API
```

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç—ã –ø–∞—Ä–æ–ª–µ–º
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (—Ö–æ—Å—Ç/—É—á–∞—Å—Ç–Ω–∏–∫)
- –í–∞–ª–∏–¥–∞—Ü–∏—è friend_id

---

#### `backend/app/runtime.py` [–ò–ó–ú–ï–ù–Å–ù]
**–î–æ–±–∞–≤–ª–µ–Ω–æ**: ~60 —Å—Ç—Ä–æ–∫

**–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
async def _send_room_invitation():
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API"""

async def _send_room_invitation_response():
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ"""
```

**–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥:**
```python
async def _persist_game_result():
    # –î–æ–±–∞–≤–ª–µ–Ω–æ: +5 –±–∞–ª–ª–æ–≤ –≤–µ–¥—É—â–µ–º—É
    await add_auth_user_coins(host.auth_user_id, 5)
```

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–µ–¥—É—â–µ–≥–æ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏

---

### Frontend

#### `src/components/FriendsBtn.tsx` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 70 —Å—Ç—Ä–æ–∫

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ö–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π —Å–µ—Ä–¥—Ü–∞
- –ö—Ä–∞—Å–Ω—ã–π –º–∏–≥–∞—é—â–∏–π –∫—Ä—É–∂–æ—á–µ–∫ –ø—Ä–∏ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç FriendsModal
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—è–≤–æ–∫ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<FriendsBtn token={token} showLabel={true} />
```

---

#### `src/components/FriendsModal.tsx` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 170 —Å—Ç—Ä–æ–∫

**–í–∫–ª–∞–¥–∫–∏:**
1. **–î—Ä—É–∑—å—è**
   - –°–ø–∏—Å–æ–∫ –ø—Ä–∏–Ω—è—Ç—ã—Ö –¥—Ä—É–∑–µ–π
   - –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ –ø–æ ID
   - –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
   - –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö

2. **–ó–∞—è–≤–∫–∏**
   - –°–ø–∏—Å–æ–∫ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞—è–≤–æ–∫
   - –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–Ω—è—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å
   - –î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—è–≤–∫–∏
   - –ö—Ä–∞—Å–Ω—ã–π –∫—Ä—É–∂–æ—á–µ–∫ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º

**Features:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ

---

#### `src/components/RoomInviteModal.tsx` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 130 —Å—Ç—Ä–æ–∫

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –í—ã–±–æ—Ä –¥—Ä—É–≥–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (–≤–µ–¥—É—â–∏–π/—É—á–∞—Å—Ç–Ω–∏–∫)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—â–∏—Ç—ã –ø–∞—Ä–æ–ª–µ–º

**–õ–æ–≥–∏–∫–∞ –ø—Ä–∞–≤:**
```
–ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å: —Ç–æ–ª—å–∫–æ –≤–µ–¥—É—â–∏–π –º–æ–∂–µ—Ç –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å
–ï—Å–ª–∏ –Ω–µ—Ç –ø–∞—Ä–æ–ª—è: –≤—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å
```

---

#### `src/components/PlayerCard.tsx` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 85 —Å—Ç—Ä–æ–∫

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ê–≤–∞—Ç–∞—Ä –∏–≥—Ä–æ–∫–∞ (12x12px)
- –ù–∏–∫ –∏–≥—Ä–æ–∫–∞
- –°—Ç–∞—Ç—É—Å (–≠—Ç–æ –≤—ã / –ò–≥—Ä–æ–∫)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∫–∏–Ω–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –¥—Ä—É–∑—å—è (–ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- Hover —ç—Ñ—Ñ–µ–∫—Ç
- –ü—Ä–æ—Ñ–∏–ª—å –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ –∫–æ–º–Ω–∞—Ç—ã

---

#### `src/components/InvitationModal.tsx` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 110 —Å—Ç—Ä–æ–∫

**–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
1. `invitation-request` - –ø–æ–ª—É—á–µ–Ω–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
   - –ö–Ω–æ–ø–∫–∏: –ü—Ä–∏–Ω—è—Ç—å/–û—Ç–∫–ª–æ–Ω–∏—Ç—å
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–≥–ª–∞—à–∞—é—â–µ–º

2. `invitation-response` - –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
   - –°—Ç–∞—Ç—É—Å: –ü—Ä–∏–Ω—è—Ç–æ/–û—Ç–∫–ª–æ–Ω–µ–Ω–æ
   - –ö–Ω–æ–ø–∫–∞: –ó–∞–∫—Ä—ã—Ç—å

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ
- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
- –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞

---

#### `src/components/FriendsLeaderboard.tsx` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 120 —Å—Ç—Ä–æ–∫

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –¢–æ–ø 50 –¥—Ä—É–∑–µ–π –ø–æ –ø–æ–±–µ–¥–∞–º
- –ú–µ–¥–∞–ª–∏ ü•áü•àü•â –¥–ª—è —Ç–æ–ø-3
- –ê–≤–∞—Ç–∞—Ä –∏ –Ω–∏–∫ –∫–∞–∂–¥–æ–≥–æ –¥—Ä—É–≥–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–±–µ–¥
- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –ö—Ä–∞—Å–∏–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- –°–∫—Ä–æ–ª–ª –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

---

#### `src/hooks/useFriends.ts` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 200+ —Å—Ç—Ä–æ–∫

**–°–æ–¥–µ—Ä–∂–∏—Ç 5 —Ö—É–∫–æ–≤:**

1. **useFriends(token)**
   ```tsx
   const { friends, requests, sendFriendRequest, respondToRequest, removeFriend } = useFriends(token);
   ```

2. **useRoomInvitations(token)**
   ```tsx
   const { invitations, respondToInvitation, inviteFriend } = useRoomInvitations(token);
   ```

3. **useFriendsLeaderboard(token, limit)**
   ```tsx
   const { leaderboard, loading } = useFriendsLeaderboard(token);
   ```

4. **useWebSocketInvitations(ws, onRequest, onResponse)**
   ```tsx
   const { sendInvitation } = useWebSocketInvitations(ws, handleRequest, handleResponse);
   ```

5. **useNewFriendRequestsCount(token, interval)**
   ```tsx
   const count = useNewFriendRequestsCount(token);
   ```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è
- Type-safe (TypeScript)

---

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### `FRIENDS_README.md` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 350+ —Å—Ç—Ä–æ–∫

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –ü–æ–ª–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- FAQ

---

#### `FRIENDS_SYSTEM_DOCS.md` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 280+ —Å—Ç—Ä–æ–∫

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –û–ø–∏—Å–∞–Ω–∏–µ API endpoints
- WebSocket —Å–æ–±—ã—Ç–∏—è
- –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- –°—Ç–∏–ª—å –∏ –¥–∏–∑–∞–π–Ω

---

#### `FRIENDS_INTEGRATION_GUIDE.md` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 300+ —Å—Ç—Ä–æ–∫

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏
- Curl –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

#### `FRIENDS_SYSTEM_SUMMARY.md` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 250+ —Å—Ç—Ä–æ–∫

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω–æ–µ —Ä–µ–∑—é–º–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã/—Å–æ–∑–¥–∞–Ω—ã
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Ç.–¥.)
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –î–∏–∑–∞–π–Ω –∏ —Å—Ç–∏–ª—å
- –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

#### `INTEGRATION_CHECKLIST.md` [–ù–û–í–´–ô]
**–†–∞–∑–º–µ—Ä**: 400+ —Å—Ç—Ä–æ–∫

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ß–µ–∫-–ª–∏—Å—Ç –≤—Å–µ—Ö –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å –∫–æ–¥–æ–º
- –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (curl)
- –°–ø–∏—Å–æ–∫ –≤–µ—Ä–æ—è—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Python (Backend)
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: 1 (`friends.py`)
- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**: 6
- **–ù–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏**: ~550
- **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: 10
- **–ù–æ–≤—ã–µ API endpoints**: 9

### TypeScript/TSX (Frontend)
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: 7 (6 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ + 1 —Ö—É–∫)
- **–ù–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏**: ~700
- **–ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: 6
- **–ù–æ–≤—ã–µ —Ö—É–∫–∏**: 5

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: 5
- **–ù–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏**: ~1,500

### –í—Å–µ–≥–æ
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**: 13
- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**: 6
- **–ù–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~1,250
- **–ù–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: ~1,500

---

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–∑—å—è–º–∏**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–æ–∫
   - –ü—Ä–∏–Ω—è—Ç–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
   - –£–¥–∞–ª–µ–Ω–∏–µ –¥—Ä—É–∑–µ–π
   - –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π

2. **–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –≤ –∫–æ–º–Ω–∞—Ç—ã**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
   - –ü—Ä–∏–Ω—è—Ç–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (–ø–∞—Ä–æ–ª—å)
   - WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

3. **–†–µ–π—Ç–∏–Ω–≥ —Å—Ä–µ–¥–∏ –¥—Ä—É–∑–µ–π**
   - –¢–æ–ø 50 –¥—Ä—É–∑–µ–π
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–±–µ–¥–∞–º
   - –ú–µ–¥–∞–ª–∏ –¥–ª—è —Ç–æ–ø-3

4. **–ë–æ–Ω—É—Å –≤–µ–¥—É—â–µ–º—É**
   - +5 –±–∞–ª–ª–æ–≤ –∑–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä—ã
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

5. **UI/UX**
   - –ö—Ä–∞—Å–∏–≤—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
   - –ö—Ä–∞—Å–Ω—ã–π –∫—Ä—É–∂–æ—á–µ–∫ –ø—Ä–∏ –∑–∞—è–≤–∫–∞—Ö
   - –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –í–∫–ª—é—á–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- ‚úÖ –ò–º–µ—é—Ç —Ç–∏–ø—ã (TypeScript)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ì–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Å–º. `INTEGRATION_CHECKLIST.md`)
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ staging
5. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
6. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ production

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö:
- `FRIENDS_README.md` - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
- `FRIENDS_SYSTEM_DOCS.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `INTEGRATION_CHECKLIST.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
