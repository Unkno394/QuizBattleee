# –ß–µ–∫-–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –¥—Ä—É–∑–µ–π

## ‚úÖ Backend - –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [x] –¢–∞–±–ª–∏—Ü–∞ `room_invitations` —Å–æ–∑–¥–∞–Ω–∞
- [x] –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] –ü–æ–ª–µ `password` –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ RoomRuntime

### API Endpoints
- [x] POST `/api/friends/request` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
- [x] GET `/api/friends` - –ø–æ–ª—É—á–∏—Ç—å –¥—Ä—É–∑–µ–π
- [x] GET `/api/friends/requests` - –ø–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫–∏
- [x] POST `/api/friends/respond` - –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–∞—è–≤–∫—É
- [x] DELETE `/api/friends/{friend_id}` - —É–¥–∞–ª–∏—Ç—å –¥—Ä—É–≥–∞
- [x] POST `/api/rooms/invite` - –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤ –∫–æ–º–Ω–∞—Ç—É
- [x] GET `/api/rooms/invitations` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- [x] POST `/api/rooms/invitations/respond` - –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
- [x] GET `/api/leaderboard/friends` - —Ä–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π

### Runtime –ª–æ–≥–∏–∫–∞
- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `invite-friend-to-room` –≤ WebSocket
- [x] –ú–µ—Ç–æ–¥—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
- [x] –ë–æ–Ω—É—Å +5 –±–∞–ª–ª–æ–≤ –≤–µ–¥—É—â–µ–º—É –ø–æ—Å–ª–µ –∏–≥—Ä—ã
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (–ø–∞—Ä–æ–ª—å-–∑–∞—â–∏—Ç–∞)

## üìù Frontend - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [x] FriendsBtn.tsx - –∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é
- [x] FriendsModal.tsx - –º–æ–¥–∞–ª–∫–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º
- [x] RoomInviteModal.tsx - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ –∫–æ–º–Ω–∞—Ç—É
- [x] PlayerCard.tsx - –∫–∞—Ä—Ç–æ—á–∫–∞ –∏–≥—Ä–æ–∫–∞
- [x] InvitationModal.tsx - –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- [x] FriendsLeaderboard.tsx - —Ä–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π

### –•—É–∫–∏
- [x] useFriends() - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–∑—å—è–º–∏
- [x] useRoomInvitations() - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º–∏
- [x] useFriendsLeaderboard() - —Ä–µ–π—Ç–∏–Ω–≥
- [x] useWebSocketInvitations() - WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- [x] useNewFriendRequestsCount() - —Å—á–µ—Ç—á–∏–∫ –∑–∞—è–≤–æ–∫

## üîå –ù–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥

### 1. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é / Header
**–§–∞–π–ª**: `src/app/layout.tsx` –∏–ª–∏ `src/components/Header.tsx`

```tsx
import FriendsBtn from "@/components/FriendsBtn";
import { useAuth } from "@/contexts/AuthContext"; // –í–∞—à –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

export default function Header() {
  const { token } = useAuth();
  
  return (
    <header className="flex items-center justify-between">
      {/* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
      
      {/* –î–æ–±–∞–≤–∏—Ç—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É */}
      <FriendsBtn token={token} showLabel={true} />
    </header>
  );
}
```

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç FriendsBtn
- [ ] –ü–æ–ª—É—á–∏—Ç—å token –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ header

### 2. –õ–æ–±–±–∏ –∫–æ–º–Ω–∞—Ç—ã
**–§–∞–π–ª**: `src/app/room/[roomId]/page.tsx` –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–æ–±–±–∏

```tsx
import { useFriends, useWebSocketInvitations } from "@/hooks/useFriends";
import FriendsBtn from "@/components/FriendsBtn";
import RoomInviteModal from "@/components/RoomInviteModal";
import PlayerCard from "@/components/PlayerCard";
import InvitationModal, { InvitationNotification } from "@/components/InvitationModal";

export default function LobbyComponent() {
  const { token } = useAuth();
  const { sendInvitation } = useWebSocketInvitations(ws);
  const [inviteModalOpen, setInviteModalOpen] = useState(false);
  const [notification, setNotification] = useState<InvitationNotification | null>(null);
  const { sendFriendRequest } = useFriends(token);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ WebSocket –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
  useWebSocketInvitations(
    ws,
    (data) => {
      // –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è –≤–µ–¥—É—â–µ–≥–æ
      setNotification({
        id: Math.random().toString(),
        type: "invitation-request",
        title: "–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ",
        message: `${data.inviterName} —Ö–æ—á–µ—Ç –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞`,
        inviterName: data.inviterName,
        onAccept: () => {
          // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–¥–æ–±—Ä–µ–Ω–∏–µ
        },
        onReject: () => {
          // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
        },
      });
    },
    (data) => {
      // –û—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
      setNotification({
        id: Math.random().toString(),
        type: "invitation-response",
        title: data.accepted ? "‚úÖ –ü—Ä–∏–Ω—è—Ç–æ" : "‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ",
        message: data.accepted
          ? "–î—Ä—É–≥ –ø—Ä–∏–Ω—è–ª –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ"
          : "–î—Ä—É–≥ –æ—Ç–∫–ª–æ–Ω–∏–ª –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ",
        accepted: data.accepted,
      });
    }
  );

  return (
    <div className="flex gap-4">
      {/* –õ–µ–≤–∞—è —á–∞—Å—Ç—å */}
      <div className="flex-1">
        <div className="flex justify-between items-center mb-4">
          <h1>–õ–æ–±–±–∏</h1>
          <div className="flex gap-2">
            <FriendsBtn token={token} showLabel={false} />
            <button 
              onClick={() => setInviteModalOpen(true)}
              className="px-4 py-2 bg-pink-500 rounded-lg"
            >
              –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å
            </button>
          </div>
        </div>
      </div>

      {/* –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ */}
      <div className="w-80 space-y-2">
        {players.map((player) => (
          <PlayerCard
            key={player.peer_id}
            name={player.name}
            avatarUrl={player.avatar}
            isSelf={player.is_self}
            onAddFriend={
              player.auth_user_id && !player.is_self
                ? () => sendFriendRequest(player.auth_user_id)
                : undefined
            }
          />
        ))}
      </div>

      {/* –ú–æ–¥–∞–ª–∏ */}
      <RoomInviteModal
        isOpen={inviteModalOpen}
        onClose={() => setInviteModalOpen(false)}
        roomId={roomId}
        token={token}
        isHost={isHost}
        isPasswordProtected={hasPassword}
      />

      <InvitationModal
        notification={notification}
        onClose={() => setNotification(null)}
      />
    </div>
  );
}
```

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ö—É–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å FriendsBtn –≤ header –∫–æ–º–Ω–∞—Ç—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞"
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ —Å PlayerCard —Å–ø—Ä–∞–≤–∞
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- [ ] –ü–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–æ–ø—Å—ã (isHost, isPasswordProtected)

### 3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
**–§–∞–π–ª**: `src/app/rating/page.tsx`

```tsx
import FriendsLeaderboard from "@/components/FriendsLeaderboard";
import GlobalLeaderboard from "./GlobalLeaderboard"; // —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π

export default function RatingPage() {
  const { token } = useAuth();

  return (
    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <div>
        <GlobalLeaderboard />
      </div>
      <div>
        <FriendsLeaderboard token={token} />
      </div>
    </div>
  );
}
```

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å FriendsLeaderboard
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä—è–¥–æ–º —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º
- [ ] –ü–µ—Ä–µ–¥–∞—Ç—å token –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 4. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
**–§–∞–π–ª**: `src/contexts/AuthContext.tsx`

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
```tsx
interface AuthContextType {
  token: string | null;
  userId: number | null;
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
}
```

**–ß–µ–∫-–ª–∏—Å—Ç:**
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–º–µ–µ—Ç –ø–æ–ª–µ `token`
- [ ] Token –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] Token –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ/–≤—ã—Ö–æ–¥–µ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] FRIENDS_SYSTEM_DOCS.md - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] FRIENDS_INTEGRATION_GUIDE.md - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [x] FRIENDS_SYSTEM_SUMMARY.md - —Ä–µ–∑—é–º–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [x] useFriends.ts - —Ö—É–∫–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Backend API —Ç–µ—Å—Ç—ã
- [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –≤ –¥—Ä—É–∑—å—è
  ```bash
  curl -X POST http://localhost:8000/api/friends/request \
    -H "Authorization: Bearer TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"friend_id": 2}'
  ```

- [ ] –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π
  ```bash
  curl http://localhost:8000/api/friends \
    -H "Authorization: Bearer TOKEN"
  ```

- [ ] –ü–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫–∏
  ```bash
  curl http://localhost:8000/api/friends/requests \
    -H "Authorization: Bearer TOKEN"
  ```

- [ ] –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–∞—è–≤–∫—É
  ```bash
  curl -X POST http://localhost:8000/api/friends/respond \
    -H "Authorization: Bearer TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"requester_id": 2, "accept": true}'
  ```

- [ ] –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤ –∫–æ–º–Ω–∞—Ç—É
  ```bash
  curl -X POST http://localhost:8000/api/rooms/invite \
    -H "Authorization: Bearer TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"friend_id": 2, "room_id": "ABCD1234"}'
  ```

- [ ] –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π
  ```bash
  curl http://localhost:8000/api/leaderboard/friends \
    -H "Authorization: Bearer TOKEN"
  ```

### Frontend —Ç–µ—Å—Ç—ã
- [ ] –ö–Ω–æ–ø–∫–∞ "–î—Ä—É–∑—å—è" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É
- [ ] –ö—Ä–∞—Å–Ω—ã–π –∫—Ä—É–∂–æ—á–µ–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö
- [ ] –ú–æ–¥–∞–ª–∫–∞ "–î—Ä—É–∑—å—è" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏ –∑–∞—è–≤–∫–∏
- [ ] –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –¥—Ä—É–≥–∞
- [ ] –ú–æ–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É
- [ ] –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å" –≤ –∫–æ–º–Ω–∞—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–µ–¥—É—â–µ–º—É –≤ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç–∞—Ö
- [ ] –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏
- [ ] –†–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### WebSocket —Ç–µ—Å—Ç—ã
- [ ] –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤–µ–¥—É—â–µ–º—É
- [ ] –ì–æ—Å—Ç—å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
- [ ] –°–æ–±—ã—Ç–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ runtime

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ production
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- [ ] –í—Å–µ 10 API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –í—Å–µ 6 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –í—Å–µ 5 —Ö—É–∫–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] WebSocket —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ë–æ–Ω—É—Å +5 –±–∞–ª–ª–æ–≤ –≤–µ–¥—É—â–µ–º—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ API
**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ª–∏ token –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ token –Ω–µ –∏—Å—Ç–µ–∫
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç: `Bearer TOKEN`

### –ü—Ä–æ–±–ª–µ–º–∞: WebSocket —Å–æ–±—ã—Ç–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç
**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ–Ω—É—Å –≤–µ–¥—É—â–µ–º—É –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ–¥—É—â–∏–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (auth_user_id –Ω–µ None)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ backend –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–≥—Ä—ã
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è _persist_game_result –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

## ‚ú® –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫ –ø–µ—Ä–µ–¥ production

- [ ] –í—Å–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- [ ] –í—Å–µ API endpoints –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç –ø—Ä–æ–ø—Å—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–µ–∑–¥–µ
- [ ] –ï—Å—Ç—å loading —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ï—Å—Ç—å error —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç console.log –≤ production –∫–æ–¥–µ
- [ ] –í—Å–µ magic strings –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- [ ] –ï—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Å–ª–æ–∂–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞
- [ ] –ù–µ—Ç security –ø—Ä–æ–±–ª–µ–º (XSS, CSRF –∏ —Ç.–¥.)
- [ ] –ú–æ–±–∏–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å)

---

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –¥—Ä—É–∑–µ–π –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**
